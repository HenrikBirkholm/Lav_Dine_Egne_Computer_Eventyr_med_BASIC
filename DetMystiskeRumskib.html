<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="adventure.css">
</head>

<body onload="start();">
  <h1 class="c64p">Det Mystiske Rumskib</h1>
  <textarea id="output" rows="25" cols="100" style="resize:none" class="c64p px12"></textarea>
  <br/>
  <input type="text" id="user_input" size="101" name="user_input" class="c64p px12">
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>

  <p>Det Mystiske Rumskib af Niels Søndergaard fra hans bog "Lav Dine Egne Computer Eventyr med Basic". Programmet er konverteret til Javascript, men stilen er bibeholdt fra det oprindelige program. </p>

  <script type="text/javascript">
    $("#user_input").keyup(function(event) {
        if (event.keyCode === 13) {
            parsning(document.getElementById('user_input').value);
        }
    });

  </script>

  <script>

  var textarea = document.getElementById('output');
  setInterval(function(){
      textarea.scrollTop = textarea.scrollHeight;
  }, 100);


  function print(str) {
      document.getElementById("output").value += str + '\n';
      document.getElementById('user_input').value = '';
      document.getElementById("user_input").focus();  
  }

/*
9 REM DET MYSTISKE RUMSKIB *****
10 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
  CHR$(147) *****
20 PRINT "******************************" 
30 PRINT " DET MYSTISKE RUMSKIB"
40 PRINT:PRINT 'et eventyrspil far rumreJsende" 
50 PRINT "******************************"
*/
  function titel_intro() {
    var title_str = '******************************\n';
    title_str += ' DET MYSTISKE RUMSKIB\n\n';
    title_str += 'et eventyrspil far rumreJsende\n'; 
    title_str += '******************************\n\n\n';
    print(title_str);
  }

/*
60 FOR I=1 TO 8:PRINT:NEXT I
70 PRINT "NAR SPILLET ER GÅET I GANG," 
80 PRINT "KAN DU TIL ENHVER TID"
90 PRINT "SKRIVE 'HJÆLP', HVIS DU"
100 PRINT 'SKULLE VÆRE I TVIVL OM NOGET." 
110 PRINT:PRINT "GOD FORNØJELSE!'
120 GOSUB 4120
*/

  function titel_hjaelp() {
    var hjaelp = 'NAR SPILLET ER GÅET I GANG,\n';
    hjaelp += 'KAN DU TIL ENHVER TID\n';
    hjaelp += 'SKRIVE \'HJÆLP\', HVIS DU\n';
    hjaelp += 'SKULLE VÆRE I TVIVL OM NOGET.\n\n'; 
    hjaelp += 'GOD FORNØJELSE!\n';
    pause();
  }

/*
125 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
   CHR*(147) *****
130 PRINT 'DU ER I DIT ENMANDS-RUMSKIB' 
140 PRINT 'LØBET TØR FOR BRÆNDSTOF"
150 PRINT "UD FOR PLANETEN KARPATH." 
160 PRINT 'SITUATIONEN ER KRITISK," 
170 PRINT 'DA DU HELLER IKKE"
180 PRINT 'HAR RET MEGET ILT TILBAGE." 
190 PRINT "DIN ENESTE CHANCE"
200 PRINT "FOR AT OVERLEVE'
210 PRINT "ER AT NÅ OVER"
220 PRINT "TIL ET ANDET RUMSKIB,"
230 PRINT "DER LIGESOM DIT EGET"
240 PRINT "LIGGER I KREDSLØB"
250 PRINT 'HØJT OVER KARPATH."
260 GOSUB 4120
265 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
   CHR$(147) *****
270 PRINT 'DU FORLADER DIT RUMSKIB' 
280 PRINT "OG SVÆVER I DIN RUMDRAGT' 
290 PRINT "OVER TIL DET FREMMEDE FARTØJ."

300 PRINT 'DET SIDSTE, DU SER,'
310 PRINT 'IDET DU SVIEVER IND'
320 PRINT 'GENNEM RUMSKIBETS LUFTSLUSE," 
330 PRINT "ER PLANETEN KARPATHS MANE," 
340 PRINT "OG KNAP HAR LUFTSLUSEN'
350 PRINT *LUKKET SIG BAG DIG,"
360 PRINT 'FØR DIN ILT SLIPPER OP.'
370 PRINT "MEN DER ER ILT I SKIBET,'
380 PRINT 'OG HVIS DU KAN FA DET STARTET,' 
390 PRINT "KAN DU LANDE PA KARPATH.":GOSUB4120
*/

  function spil_start() {
    document.getElementById('output').value = '';
    var tekst1 = 'DU ER I DIT ENMANDS-RUMSKIB\n';
    tekst1 += 'LØBET TØR FOR BRÆNDSTOF\n';
    tekst1 += 'UD FOR PLANETEN KARPATH.\n'; 
    tekst1 += 'SITUATIONEN ER KRITISK,\n';
    tekst1 += 'DA DU HELLER IKKE\n';
    tekst1 += 'HAR RET MEGET ILT TILBAGE.\n'; 
    ekst1 += 'FOR AT OVERLEVE\n';
    tekst1 += 'ER AT NÅ OVER\n';
    tekst1 += '220 PRINT "TIL ET ANDET RUMSKIB,\n';
    tekst1 += 'DER LIGESOM DIT EGET\n';
    tekst1 += 'LIGGER I KREDSLØB\n';
    tekst1 += 'HØJT OVER KARPATH.\n';
    print(tekst1);
    pause();
    document.getElementById('output').value = '';
    var tekst2 = 'DU FORLADER DIT RUMSKIB\n';
    tekst2 += 'OG SVÆVER I DIN RUMDRAGT\n';
    tekst2 += 'OVER TIL DET FREMMEDE FARTØJ.\n';
    tekst2 += 'DET SIDSTE, DU SER,\n';
    tekst2 += 'IDET DU SVIEVER IND\n';
    tekst2 += 'GENNEM RUMSKIBETS LUFTSLUSE,\n'; 
    tekst2 += 'ER PLANETEN KARPATHS MANE,\n';
    tekst2 += 'OG KNAP HAR LUFTSLUSEN\n';
    tekst2 += 'LUKKET SIG BAG DIG,\n';
    tekst2 += 'FØR DIN ILT SLIPPER OP.\n';
    tekst2 += 'MEN DER ER ILT I SKIBET,\n';
    tekst2 += 'OG HVIS DU KAN FA DET STARTET,\n'; 
    tekst2 += 'KAN DU LANDE PA KARPATH.\n';
    print(tekst2);
    pause();
  }

/*
399 REM DATA *****
400 LO=2
*/
  var lo = 2 - 1; //start lokale 2, nul indekseret.
/*

410 AU=9:AN=23:AL=4:GL=20
420 DIM G(AN),GS(AN),U$(AU),NSCAN1 
430 DIM VS(2),LS(AL),L(AL,2)
440 FOR i=1 TO GL:READ G(I):NEXT I 
450 FOR 1=1 TO GL:READ G%(I):NEXT I 
460 FOR 1=1 TO AU:READ U$1 ):NEXT I 
470 FOR I=1 TO AN:READ N$(I):NEXT I 
480 FOR I=1 TO 2:READ VS(I):NEXT I 
490 FOR I=1 TO AL:READ L*(I1:NEXT I 
500 FOR I=1 TO AL:FOR J=1 TO 2:READ L(I,J):
   NEXT 3:NEXT I
510 DATA 0,1,2,2,0,0,2,0,0,2,2,3,0,0,3,2,1,0,1,0
*/
// G'
var antal_genstande_lokalitet = [0,1,2,2,0,0,2,0,0,2,2,3,0,0,3,2,1,0,1,0];
/*
520 DATA EN MANE,ET VINDUE,EN LUFTSLUSE,EN REOL,
   EN KORAN,ET LEKSIKON
530 DATA EN MUSEFÆLDE,EN ROTTE,ET TRÆSTYKKE 
540 DATA EN HAMMEREN KNIV,EN KISTE,EN VAMPYR,
   ET MAGNETKORT
550 DATA EN DØR,EN SIKRING,ET KRUCIFIKS,ET RUMSKIB, 
  ET INSTRUMENTBRET,EN MAND
*/
// G$
var genstande_beskrivelse = ['EN MÅNE', 'ET VINDUE', 'EN LUFTSLUSE', 'EN REOL', 'EN KORAN', 'ET LEKSIKON', 'EN MUSEFÆLDE', 'EN ROTTE', 'ET TRÆSTYKKE', 'EN HAMMER', 'EN KNIV', 'EN KISTE', 'EN VAMPYR', 'ET MAGNETKORT', 'EN DØR', 'EN SIKRING', 'ET KRUCIFIKS', 'ET RUMSKIB', 'ET INSTRUMENTBRÆT', 'EN MAND'];
/*
560 DATA GA,AKT,UND,BRU,LKS,LEG,GEM,FOR,TAG:REM HVIS 
  lE=AE SA STU I STEDET FOR LES *****
*/
// U$
var udsagnsord = ['GÅ', 'AKT', 'UND', 'BRU', 'LÆS', 'LÆG', 'GEM', 'FOR', 'TAG'];

/*
570 DATA MAN,VIN,LUF,REO,KOR,LEK,MUS,ROT,TRE,HAM, 
  KNI,KIS,VAM,MAG,DØR,SIK,KRU
580 DATA RUM,INS,MAN,SPI,FOR,AGT
*/

//N$
var navneord = ['MAN','VIN','LUF','REO','KOR','LEK','MUS','ROT','TRÆ','HAM','KNI','KIS','VAM','MAG','DØR','SIK','KRU','RUM','INS','MAN','SPI','FOR','AGT'];

/*
590 DATA FORUD,AGTERUD
*/

// v$
var verdenshjoerner = ['FORUD', 'AGTERUD'];

/*
600 DATA COCKPIT,SALON,SOVEKABINE,MASKINRUM
610 DATA 0,2,1,3,2,0,3,0
*/

var lokationer = [['COCKPIT', 0, 2],
                  ['SALON', 1, 3],
                  ['SOVEKABINE', 2, 0],
                  ['MASKINRUM', 3, 0]];


var skoder_aabne = false; // SK
var musefaelde_aktiveret = false; // MU
var trae_spidset = false; // TR
var doer_aaben = false; // DO
var drejet_vinkel = 1; //DR 1-12 ganges med 30 grader.
var rotten_levende = true; // RO
var vampyr_levende = true; // VA


/*

620 GOSUB 630:GOSUB 3740:GOTO 650

629 REM ÆNDRINGER ******
630 IF DR=13 THEN DR=1 
640 RETURN

*/

function dr_retning() {
  if (drejet_vinkel == 13) {
    drejet_vinkel = 1
  }
}

/*

649 REM STRENGDELING*****
650 PRINT:PRINT "HVAD VIL DU GØRE"; 
660 INPUT 2$
670 PRINT
680 IF BS="R" THEN 620

690 IF B$="F" THEN B$="GA FORUD"
700 IF B$="A" THEN B$="GA AGTERUD"
710 IF B$="STATUS" THEN 2990
720 IF B$="STOP" THEN 3620
730 IF B$="HJFELP" THEN 2680
740 FOR I=1 TO LEN(B$)
750 IF MID$(B$,I,1)=" " THEN 780
760 NEXT I
770 GOTO 4110:REM HVIS KUN EET ORD *****
780 U0$=LEFTS(B*,I-1)
790 NOS=RIGHTS(B$,(LEN(B$1-I))
800 IF U0$="GAR THEN 850:REM IKKE HVIS A=AA ***** 
810 IF LEN(U0$)<3 THEN 4110
820 U0$=LEFT$(UOM,3):FOR I=1 TO AU:IF UO$=U$(I) THEN 
   860
830 NEXT I
840 UO=0:GOTO 4110
850 U0=1:GOTO 870:REM IKKE HVIS A=AA *****
860 UO=I
870 IF LEN(NOS)<3 THEN 4110
880 NO$=LEFT$(NO$,3):FOR I=1 TO AN:IF NO$=N$(I) THEN 
   930
890 NEXT I
900 IF NO$="FLI" THEN NO=9:GOTO 940
910 IF NO$="SKO" THEN NO=2:GOTO 940
920 NO=0:GOTO 4110
930 NO=I
940 IF (UO<>4 AND NO<>10) AND R0=1 AND VA=0 THEN 
   GOSUB 2150:GOTO 3880

949 REM UDSAGNSORD ******
950 ON U0 GOTO 960,1000,1270,1960,2340,2640,3050, 
   3310,3510

950 IF U0=1 THEN 960
951 IF U0=2 THEM 1000
952 IF U0=3 THEN 1270
953 IF U0=4 THEN 1660
954 IF U0=5 THEN 2340
955 IF U0=6 THEN 2640
956 IF U0=7 THEM 3050
957 IF U0=8 THEN 3310
958 IF U0=9 THEN 3510

959 REM GA ******
960 IF NO(22 THEN 4110
970 NO=N0-21
980 IF L(LO,N0)=0 THEN PRINT "DU KAN IKKE GA DEN 
   VEJ.':GOTO 650
990 LO=L(LO,N0):GOTO 620

 999 REM AKTIVERE *****
 1000 IF NO=18 THEN GOSUB 1180:GOTO 650
 1010 IF G(NO)=LO OR G(NO)=-1 THEN 1030
 1020 PRINT "VÆR NU LIDT ALVORLIG, HVA'?":GOTO 650 
 1030 IF NO<9 THEN 1060
 1040 IF NO>8 AND NO<17 THEN 1070
 1050 IF NO>16 THEN 1080
 1060 ON NO GOSUB 1260,1120,1140,1260,1260,1260,1160, 
   1260:GOT0 1090
 1070 ON N0-e GOSUB 1260,1260,1260,1260,1260,1260, 
   1180,1260:GOTO 1090
 1080 ON NO-16 GOSUB 1260,0,1190,1260,0,0,0
 1090 IF SF=1 THEN 4030
 1100 IF DE=1 THEN DE=0:GOTO 3880
 1110 GOTO 650
 1120 IF SK=1 THEN PRINT "SKODDERNE GLIDER TIL.": 
   SK=0:RETURN
 1130 PRINT "SKODDERNE GLIDER FRA.":SK=1:RETURN
 1140 PRINT "LUFTEN FISER UD AF RUMSKIBET."
 1150 PRINT "DU DØR NÆSTEN WEBLIKKELIGT.":DE=1: 
   RETURN
 1160 IF G(7)=-1 THEN PRINT "DU MA FØRST LÆGGE DEN
   FRA DIG.":RETURN
 1170 PRINT "DU AKTIVERER MUSEFELDEN.":MU=1:RETURN 
 1180 PRINT "GOD IDE...MEN HVORDAN?":RETURN
 1190 IF G(16)=4 AND TR<>2 THEN SF=1:RETURN:REM 
   SF=SPIL FÆRDIGT *****
 1200 IF TR=2 THEN 1220 
 1210 GOTO 1250
 1220 PRINT "DET KAN DU IKKE.":PRINT "DU HAR SMADRET 
   RAKETMOTOREN"
1230 PRINT "OG ØDELAGT DINE CHANCER":PRINT "FOR AT 
   BLIVE FÆRDIG."
1240 PRINT "ET GODT RAD: BEGYND FORFRA.":RETURN 
1250 PRINT "RUMSKIBET DREJER 30 GRADER.":DR=DR+1: 
   GOSUB 630:RETURN
1260 PRINT "PRØV NOGET ANDET.":RETURN

1269 REM UNDERSØGE *****
1270 IF N0=1 AND LO=1 THEN GOSUB 1400:GOTO 650:REM 
   MANE *****
1280 IF N0=14 AND G(13)=LO AND VA=0 THEN 1300 
1290 GOTO 1320
1300 PRINT "DUM IDE."

1310 PRINT 'VAMPYREN VAGNER OG SLÅR DIG IHJEL.•:GOTO 
  3880
1320 IF NO=18 THEN PRINT "GOD IDE...BARE SE AT KOMME 
  I GANG!":GOTO 650
1330 IF G(NO)<>LO AND G(NO)<>-1 THEN PRINT "MEGET 
  MORSOMT.•:GOTO 650
1340 IF NO<9 THEN 1370
1350 IF NO>8 AND NO<17 THEN 1380
1360 IF NO>16 THEN 1390
1370 ON NO GOSUB 0,1430,1470,1480,1550,1560,1570, 
  1610:GOTO 650
1380 ON NO-8 GOSUB 1630,1650,1660,1670,1710,1740, 
  1750,1770:GOTO 650
1390 ON NO-16 GOSUB 1780,0,1790, 1860,O,O,O:GOTO 650 
1400 IF SK=0 THEM 1430
1410 IF DR=3 THEN PRINT "DEN ER HALV.•:RETURN 
1420 PRINT "DU KAN IKKE SE DEN.•:RETURN
1430 IF SK=0 THEN PRINT 'SKODDERNE ER LUKKEDE.": 
  RETURN
1440 PRINT "SKODDERNE ER ÅBNE."
1450 IF DR=3 THEN PRINT 'DU KAN SE EN MANE UDENFOR.' 
1460 RETURN
1470 PRINT "DEN ER LUKKET.": RETURN
1480 PRINT "I REOLEN, DER ER AF FYRRETRIE,":PRINT "ER 
  DER ";
1490 IF (G(5)=0 AND G(6)=0) OR (G(5)=2 AND G(6)=2) 
  THEN 1510
1500 GOTO 1520
1510 PRINT "EN KORAN OG ET LEKSIKON.":G(5)=2:G(6)=2: 
  RETURN
1520 IF G(5)=2 AND G(6)<>2 THEN PRINT "EN KORAN.•: 
  RETURN
1530 IF G(5)<>2 AND G(6)=2 THEN PRINT "ET 
  LEKS/KON.•:RETURN
1540 PRINT "INGENTING.":RETURN

1550 PRINT 'DER STAR NOGET I DEN.":RETURN
1560 PRINT "DER STAR NOGET I DET.":RETURN
1570 IF MU>0 THEM PRINT 'DEN ER AKT/VERET.":MU=MU+1  
1590 IF MU>3 THEN PRINT "DER SIDDER EN STOR,':PRINT  
   "FED ROTTE I DEN.':G(8)=G(7)
1590 IF MU=0 THEN PRINT "DEN ER IKKE AKTIVERET."
1600 RETURN
1610 IF R0=1 THEN PRINT "DEN ER DØD.":RETURN
1620 PRINT "DEN LEVER ENDNU.":RETURN
1630 IF TR>O THEN PRINT "DET ER SPIDST":RETURN
1640 PRINT "DET ER STUMPT":RETURN
1650 PRINT *DET ER EN GANSKE ALMINDELIG HAMMER.":
   RETURN
1660 PRINT "DET ER EN GANSKE ALMINDELIG KNIV":RETURN 
1670 PRINT "DEN ER AF ALUMINIUM."
1680 IF VA=1 THEM PRINT *DEN ER TOM.m:RETURN
1690 IF G(20)=0 THEN PRINT "DER LIGGER EN MAND I 
   DEN."•G(20)=LO
1700 RETURN
1710 PRINT "HANS BID ER DRÆBENDE."
1720 IF G(14)=0 THEN PRINT "HAN HAR ET MAGNETKORT I  
   BRYSTLOMMEN.'
1730 RETURN
1740 PRINT "DET KAN ÅBNE DØRE.":RETURN
1750 IF D0=1 THEN PRINT "DEN ER ÅBEN.':RETURN
1760 PRINT "DEN ER LÅST.":RETURN
1770 PRINT "DEN ER TIL EN RAKETMOTOR.":RETURN
1780 PRINT "DET ER AF GULD OG BESAT MED ÆDELSTEN.":  
   RETURN
1790 IF G(16)=4 AND TR<>2 THEN 1810
1800 GOTO 1920
1810 PRINT "EN GRØN LAMPE VISER,":PRINT "AT 
   HOVEDMOTOREN NU FUNGERER.': RETURN
1820 PRINT 'EN RØD LAMPE VISER,":PRINT "AT DER ER 
   NOGET I VEJEN"
1830 PRINT "MED HOVED-RAKETMOTOREN.': PRINT "DET 
   ENESTE, DER FUNGERER,'
1840 PRINT "ER DE SMÅ DYSER, DER':PRINT 'KAN FA 
   RUMSKIBET TIL AT'
1850 PRINT 'DREJE OM SIN EGEN AKSE.': RETURN
1860 PRINT "HAN ER VAMPYR.':G(13)=LO:G(201=0:GOTO 1710

1879 REM BRUGE *****
1880 IF G(NO)<>L0 AND G(NO)<>-1 THEN GOSUB 2330:GOTO 
   650
1890 IF NO<9 THEN 1920
1900 IF NO>8 AND NO(17 THEN 1930
1910 IF NO>16 THEN 1940
1920 ON NO GOSUB 0,1970,1970,1970,1970,1970,1970, 
   1970:GOTO 1950
1930 ON NO-8 GOSUB 1970,1980,2180,1970,1970,2280, 
   1970,2300:GOTO 1950
1940 ON N0-16 GOSUB 2320,1970,1970,1970,0,0,0 
1950 IF DE=1 THEN DE=O:GOTO 3880
1960 GOTO 650
1970 PRINT "DU MA UDTRYKKE DIG LIDT MERE PRÆCIST.": 
   RETURN
1980 ON LO GOSUB 1990,2110,2150,2160:RETURN:REM 
   HAMMER *****
:990 IF (G(9)=-1 OR G(9)=LO) AND SK=1 AND VA=O AND 
   DR=3 AND G(13)=LO THEN 2010
2000 GOTO 2030
2010 PRINT 'DU DRÆBER VAMPYREN":PRINT "MED HAMMEREN 
   OG TRÆSTYKKET.'
2020 G(14)=LO:VA=1:G$(13)=»EN DØD VAMPYR":RETURN 
2030 IF DR<>3 AND VA=0 AND G(13)=LO THEN 2050 
   GOTO 2090
2050 PRINT 'DU HAR IKKE FUNDET UD AF":PRINT "AT 
   SVÆKKE VAMPYREN,'
2060 PRINT "OG DERFOR KAN HAN UDEN BESVÆR":PRINT 
   "OVERMANDE OG DRÆBE DIG."
 2070 DE=1:RETURN
 2080 IF G(13)<>LO OR VA=1 THEN PRINT "DU SMADRER 
   VINDUET,'
 2090 PRINT 'OG LUFTEN SIVER UD AF":PRINT "RUMSKIBET. 
   DU DØR AF LUFTMANGEL."
 2100 DE=1:RETURN
 2110 IF G(9)=0 THEM PRINT "DU SLÅR EN FLIS AF 
   REOLEN.":G(9)=L0:RETURN
 2120 IF G(13)=LO THEN 2150
 2130 PRINT 'DU SMADRER LUFTSLUSEN,":PRINT 'OG LUFTEN 
   SIVER UD AF"
 2140 PRINT "RUMSKIBET. DU DØR AF LUFTMANGEL.m:DE=1: 
   RETURN
 2150 PRINT 'DU BLIVER DRÆBT AF VAMPYREN.":DE=1: 
   RETURN
 2160 PRINT 'DU SMADRER RAKETMOTOREN.":PRINT "HVORFOR 
   GJORDE DU NU OGSÅ DET?'
 2170 PRINT "NU ER DU NØDT TIL":PRINT 'AT BEGYNDE 
   FORFRA.":TR=2:RETURN
 2180 IF (G(9)=LO OR G(9)-1) AND TR=O THEN 2200 
 2190 GOTO 2210
 2200 PRINT "DU SPIDSER TRESTYKKET.":TR=1:RETURN 
 2210 IF (G(8)=LO OR G(8)=-1) AND R0=0 THEN 2230 
 2220 GOTO 2260
 2230 R0=1:PRINT 'DU DRÆBER ROTTEN.':PRINT 'DENS BLOD 
   SPRØJTER UD PA GULVET."
 2240 PRINT "LUGTEN VÆKKER VAMPYREN,':PRINT "DER 
   KOMMER FARENDE"
 2250 PRINT 'OG GÅR TIL ANGREB PA DIG.":G(13)=LO: 
   RETURN
 2260 PRINT "DU SKÆRER DIG SELV I HANDLEDDET":PRINT
  "...OG FORBLØDER."
2270 DE=1:RETURN
2280 IF LO=1 OR LO=2 THEN PRINT 'DET FAR DU IKKE 
  NOGET UD AF...HER.":RETURN
2290 PRINT 'DU ÅBNER DØREN.":L(3,2)=4:RETURN
2300 IF LO<>4 THEN PRINT 'DET FAR DU IKKE NOGET UD 
  AF...HER.":RETURN
2310 PRINT "DU UDSKIFTER SIKRINGEN.":G(16)=4:RETURN  
2320 PRINT "DET FÅR DU IKKE NOGET UD AF.•:RETURN 
2330 PRINT "PRØV NOGET ANDET, FISTER.":RETURN
2339 REM LÆSE *****
2340 IF G(NO)<>L0 AND G(NO)<>-1 THEN 2360 
2350 GOTO 2370
2360 PRINT 'IH, HVOR ER DU ALTSÅ MORSOM.•:GOTO 650 
2370 IF NO<>5 THEN 2480
2380 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
  CHR*(147) *****
2385 PRINT "FORREST I KORANEN STÅR SKREVET:'
2390 PRINT:PRINT "'DENNE HELLIGE BOG GIVER VI DIG,'  
2400 PRINT 'VOR ELSKEDE SØN, VLAD NOSFERATU,"
2410 PRINT "HER PA DIN 10-ÅRS FØDSELSDAG,' 
2420 PRINT "AT DU KAN LÆSE ALLAHS ORD' 
2430 PRINT "OG BLIVE HANS TRO TJENER.• 
2440 PRINT "MÅ DEN HELLIGE HALVMÅNES'
2450 PRINT "FORBANDELSE RAMME ENHVER VANTRO' 
2460 PRINT "OG ENHVER TROENDE, DER ER"
2470 PRINT "BLEVET FORLEDT AF SATAN!'":GOTO 650 
2480 IF NO<>6 THEN 2610
2490 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
  CHR*(147) *****
2495 PRINT 'I LEKSIKONNET STÅR BLANDT ANDET:' 
2500 PRINT:PRINT "VAMPYRER:"
2510 PRINT "SKAL MAN USKADELIGGØRE EN VAMPYR,' 
2520 PRINT 'MÅ MAN GENNEMBORE HANS HJERTE" 
2530 PRINT "MED ET SPIDST STYKKE TRÆ.'
2540 PRINT 'FØRST MÅ MAN DOG SVÆKKE VAMPYREN," 
2550 PRINT "HVIS KRÆFTER ER OVERMENNESKELIGE,' 
2560 PRINT "MED ET HELLIGT SYMBOL, SÅSOM ET" 
2570 PRINT 'KORS ELLER EN DAVIDSSTJERNE E.L." 
2580 PRINT "- AFHÆNGIGT AF, HVILKEN RELIGION' 
2590 PRINT 'HAN BEKENDTE SIG TIL, FØR HAN"
2600 PRINT 'BLEV EN AF SATANS TJENERE.'":GOTO 650 
2610 IF NO<>14 THEN 2630
2620 PRINT "DER STAR 'MADE IN TRANSYLVANIA' PA 
   DET.":GOTO 650
2630 PRINT "DET FAR DU IKKE NOGET UD AF.":GOTO 650 
2639 REM LÆGGE *****
2640 IF G(NO)<>-1 THEN 2660
2650 GOTO 2670
2660 IF G(NO)=-1 THEN 2670
2665 PRINT "FOR AT KUNNE LÆGGE NOGET":PRINT "MÅ MAN 
   HAVE DET.":GOTO 650
2670 PRINT "SOM DU VIL.":N=.1:GOSUB 4060:G(NO)=LO: 
   GOTO 620
2679 REM HJÆLP *****
2680 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
  CHRIS(147) *****
2685 PRINT 'DU KAN BRUGE'
2690 PRINT "FØLGENDE KOMMANDOER:'
2700 PRINT:PRINT "GÅ (FORUD OG AGTERUD)" 
2710 PRINT "_ MEN HER KAN DU NØJES MED" 
2720 PRINT "AT SKRIVE 'F' FOR 'GA FORUD'" 
2730 PRINT "OG 'A' FOR 'GA AGTERUD'."
2740 PRINT:PRINT "TAGE _ LÆGGE _ BRUGE _ LIESE":REM
  HVIS LAE SÅ STU *****
2750 PRINT "_ AKTIVERE _ UNDERSØGE."
2760 PRINT '(DISSE ORD SKAL EFTERFØLGES AF' 
2770 PRINT 'NAVNEORD _ F.EKS: 'TAGE HAMMER')." 
2780 GOSUB 4120
2790 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
  CHRIB(147) *****
2795 PRINT 'GEMME _ FORTSÆTTE:"
2800 PRINT 'VIRKER KUN, HVIS DE EFTER-" 
2810 PRINT "FØLGES AF ORDET 'SPIL' (OG' 
2820 PRINT "DET ER EN GOD IDE AT GEMME" 
2830 PRINT 'SPILLET F.EKS. FØR MAN PRØVER" 
2840 PRINT "KRÆFTER MED EN UDFORDRING. SÅ" 
2850 PRINT "KAN MAN NEMLIG BAGEFTER FORT-" 
2860 PRINT "SÆTTE SPILLET, HVIS DET'
2870 PRINT 'SKULLE GA GALT."
2880 GOSUB 4120
2890 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
  CHR*(147) *****
2895 PRINT "STOP: STOPPER SPILLET."
2900 PRINT "HJÆLP: VED DU ALT OM."
2910 PRINT "STATUS: VISER HVAD DU BÆRER." 
2920 PRINT:PRINT "ET SIDSTE LILLE TIP:" 
2930 PRINT "DU KAN VED AT SKRIVE"
2940 PRINT "'R' RYDDE SKÆRMEN"
2950 PRINT "OG SE, HVOR DU ER"
2960 PRINT "(HVIS STEDSANGIVELSEN"
2970 PRINT "FOROVEN ER FORSVUNDET)." 
2980 GOSUB 4120:GOTO 620

2989 REM STATUS *****
2990 PRINT 'DU BÆRER FØLGENDE:"
3000 BP=0
3010 FOR I=1 TO AN:IF G(I)=-1 THEN PRINT GS(I):BP=1 
3020 NEXT I
3030 IF BP=0 THEN PRINT "INGENTING"
3040 GOTO 650

3049 REM GEMME SPIL *****
3050 IF NO=21 THEN 3080:REM HAR DU KASSETTEBAND- 
  STATION, SA SE FORKLARINGEN TIL DENNE LINIE!
  *****
3060 PRINT "DET ENESTE, DU KAN GEMME,":PRINT "ER 
  SPILLET.":GOTO 650
3080 OPEN "0",1,"RUM-DATA":REM COMMODORE-BRUGER,
  SKRIV I STEDET: OPEN 1,1,1,"RUM-DATA" ***** 
3090 PRINT# 1,SK
3100 PRINT* 1,MU 
3110 PRINT* 1,TR
3120 PRINT* 1,D0 
3130 PRINT* 1,DR 
3140 PRINT* 1,R0 
3150 PRINT* 1,VA 
3160 PRINT* 1,L0 
3170 FOR I=1 TO GL:PRINT* 1,G(I):NEXT I
3180 FOR I=1 TO GL:PRINT* 1,~I):NEXT I
3190 FOR I=1 TO AU:PRINT* 1,U*(1):NEXT I
3200 FOR 1=1 TO AN:PRINTO 1,~I):NEXT I
3210 FOR I=1 TO 2:PRINT* 1,V*(I):NEXT I
3220 FOR I=1 TO AL:PRINT* 1,L*(I):NEXT I
3230 FOR I=1 TO AL:FOR J=1 TO 2:PRINT* 1,L(I,J):NEXT 
  J:NEXT I
3240 CLOSE 1
3250 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
  CHR*(147) *****
3255 PRINT "ØNSKER DU AT FORTSETTE SPILLET?"
3260 GOSUB 4080
3270 AS=INKEYS:REM COMMODORE-BRUGER, SKRIV I
  STEDET: GET A*
3275 IF A*="" THEN 3270
3280 IF A*="J" THEN 3340
3290 IF A*="N" THEN 4100
3300 GOTO 3270
3309 REM FORTSÆTTE SPIL *****
3310 IF NO=21 THEN 3340
3320 PRINT "DET ENESTE,":PRINT "DU KAN FORTSÆTTE, ER 
  SPILLET.":GOTO 650
3340 OPEN "I",1,"RUM-DATA":REM COMMODORE-BRUGER,
  SKRIV I STEDET: OPEN 1,1,0,"RUM-DATA" ***** 
3350 INPUT* 1,SK
3360 INPUT* 1,MU 
3370 INPUT* 1,TR
3380 INPUT#  1,DO
3390 INPUT#  1,DR
3400 INPUT#  1,R0
3410 INPUT#  1,VA
3420 INPUT#  1,L0
3430 FOR 1=1  TO GL:INPUT# 1,G(I):NEXT I
3440 FOR I=1  TO GL:INPUT# 1,G$(I):NEXT
3450 FOR I=1  TO AU:INPUT# ',USW:NEXT I
3460 FOR I=1  TO AN:INPUT# 1,NS(I):NEXT I
3470 FOR I=1  TO 2:INPUT# 1 ,V$(1):NEXT  I
3480 FOR 1=1  TO AL: INPUTO 1,L*(I):NEXT   I
3490 FOR I=1  TO AL:FOR J=1 TO 2:INPUT#   1,L(I,J):NEXT
     J:NEXT  I
3500 CLOSE:GOTO  620

3070 PRINT "LÆG ET BAND I MASKINEN.":PRINT

3080 OPEN 1,1,1,"RUM-DATA"

3330 PRINT "FIND FILEN PA BANDET."

3509 REM TAGE *****
3510 IF N0=14 AND VA=0 AND G(13)=LO THEN 3530 
3520 GOTO 3550
3530 PRINT "DET SKULLE DU IKKE HAVE GJORT." 
3540 PRINT "VAMPYREN SLÅR DIG IHJEL.":GOTO 3880
3550 IF NO<5 OR NO=12 OR NO=13 OR N0=15 OR NO>17
   THEN NO=0
3560 IF NO=O THEN PRINT "DET KAN DU IKKE.":GOTO 650 
3570 IF G(NO)=-1 THEM PRINT "DET HAR DU ALLEREDE 
   GJORT.":GOTO 650
3580 IF G(NO)<>L0 THEN PRINT "MEGET MORSOMT.":GOTO 
   650
3590 IF N0=7 AND MU>3 THEN G(8)=-1
3600 IF N0=8 OR N0=7 THEN MU=0
3610 G(NO)=-1:PRINT "UDWERKET.":N=1:GOSUB 4060:GOTO 
   620
 3619 REM STOPPE *****
 3620 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
   CHR$(147) *****
 3625 PRINT "DU ØNSKER AT STOPPE SPILLET?"
 3630 GOSUB 4080
 3640 AS=INKEY$:REM COMMODORE-BRUGER, SKRIV I
   STEDET: GET A$ *****
 3645 IF A$="" THEN 3640 
 3650 IF A$="J" THEN 3680 
 3660 IF A$="1,4" THEN 650 
 3670 GOTO 3620
 3680 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
   CHR$(147) *****
 3685 PRINT "ØNSKER DU AT GEMME SPILLET?"
 3690 GOSUB 4080
 3700 A$=INKEY$:REM COMMODORE-BRUGER, SKRIV I
   STEDET: GET A$ *****
 3705 IF A$="" THEN 3700 
 3710 IF A$="3" THEN 3080 
 3720 IF AS="N" THEN 4100 
 3730 GOTO 3680


 3739 REM SKIERMTEKST-RUTINE *****
 3740 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
   CHR$(147) *****
 3750 DUS="DU ER I RUMSKIBETS "
 3760 PRINT DU$;L$(LO)
 3770 FOR I=1 TO GL:IF G(I)=LO THEN SE=1
 3780 NEXT I
 3790 IF SE=0 THEN PRINT:GOTO 3840
 3800 PRINT:PRINT 'DU KAN SE:
 3810 FOR I=1 TO GL:IF G(I)=LO THEN PRINT G$(I):SE=O
3820 NEXT I:PRINT:GOTO 3840
3830 NEXT I
3840 PRINT "DU KAN GÅ:"
3850 FOR I=1 TO 2:IF L(LO,I)<>0 THEN PRINT V$(I) 
3860 NEXT I
3870 RETURN

*/

  function skaermtekst_subrutine() {
    var skaermtekst = 'DU ER I RUMSKIBETS ' + lokationer[lo][0] + '.\n\n';
    for (var l = 0; l < genstands_lokalitet.length; l++) {
      if (genstands_lokalitet[l] == lo) {
        skaermtekst += 'DU KAN SE: ' + genstand_beskrivelse[l] + '.\n\n'; 
      }
    }
    skaermtekst += 'DU KAN GÅ: ';
    for (var retning = 1; retning <= 4; retning++) {  
      if (lokationer[lo][retning] > 0) {
        skaermtekst += verdenshjoerner[retning-1] + ' ';
      }
    }
    return skaermtekst + '\n';
   }

/*

3879 REM AFSLUTNINGS-RUTINE *****
3880 PRINT:PRINT "BEKLAGER...sÅDAN ER LIVET."
3890 PRINT:PRINT "HAR DU LYST TIL":PRINT 'AT PRØVE 
   EN GANG TIL?"
3900 GOSUB 4080
3910 A$=INKEY%:REM COMMODORE-BRUGER, SKRIV I 
   STEDET: GET A$ *****
3915 IF A$="" THEN 3910
3920 IF A$="3" THEN 3950
3930 IF A$=■N" THEN 4100
3940 GOTO 3890
3950 CLS:REM COMMODORE-BRUGER, SKRIV I STEDET: PRINT 
   CHRS(147) *****
3955 PRINT "HVIS DU HAR GEMT SPILLET":PRINT 'OG 
   ØNSKER AT FORTSÆTTE,"
3960 PRINT "SÅ TRYK PA 'F' FOR 'FORTSÆT'." 
3970 PRINT "HVIS DU VIL BEGYNDE HELT FORFRA,"
3980 PRINT "SÅ TRYK PA 'B' FOR":PRINT "'BEDRE HELD
   NÆSTE GANG'."
3990 A$=INKEY$:REM COMMODORE-BRUGER, SKRIV I 
   STEDET: GET A* *****
3995 IF A$="" THEM 3990
4000 IF AS="F" THEM 3340
4010 IF A$="B" THEN RUN
4020 GOTO 3990
 4030 PRINT "DU STARTER RUMSKIBETS HOVEDMOTOR' 
 4040 PRINT "OG LANDER SIKKERT PA KARPATH."
 4050 PRINT "DU HAR GENNEMFØRT SPILLET.":PRINT:PRINT
   "TIL LYKKE!":END

4059 REM LØKKE-SUBRUTINE *****
4060 FOR X=1 TO (N*1000):NEXT X
4070 RETURN
4079 REM JA/NEJ-SUBRUTINE *****
4060 PRINT:PRINT 'TRYK PA 'J' FOR 1JA'':PRINT 'ELLER 
   'N' FOR 'NEJ'."
4090 RETURN 
4100 END
*/

/*
4109 REM OM IGEN-RUTINE *****
4110 PRINT 'OM IGEN!":GOTO 650
*/

  function om_igen () {
    print('OM IGEN');
    return;
  }

/*
4119 REM MELLEMRUMSTANGENT-RUTINE *****
4120 PRINT:PRINT 'TRYK PA MELLEMRUMSTANGENTEN,"
4130 PRINT 'NAR DU VIL FORTSÆTTE.'
4140 AS=INKEYS:REM COMMODORE-BRUGER, SKRIV I
   STEDET: GET AS *****
4145 IF A$="" THEN 4140
4150 IF AS<>" ' THEN 4140
4160 RETURN
*/

  function pause() {
    print('TRYK PÅ MELLEMRUMSTANGENTEN, \nNÅR DU VIL FORTSÆTTE.');
    $(window).keypress(function(e) {
      if (e.which === 32) {
        // wait until spacebar is pressed
      }
    });
    return;
  }


  </script>
</body>
</html>